<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Siswa | SMP Negeri 35 Bandar Lampung</title>
    
    <!-- style vanilla css -->
    <link rel="stylesheet" type="text/css" href="/styles/styles.css" />
    <!-- iconify -->
    <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>
    <!-- bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
    <header>
        <div class="logo-text">
          <a href="dashboard-siswa.html">
            <img src="/assets/LogoSMPN35.png" alt="LogoSMPN35" />
          </a>
        </div>
        <div class="title-text">
          <a href="dashboard-siswa.html">
            <h1>SIAKAD | Siswa</h1>
            <span>SMP Negeri 35 Bandar Lampung</span>
          </a>
        </div>
        <div class="profile-button">
          <a href="profile-siswa.html"><iconify-icon icon="material-symbols:person" width="30" class="align-middle p-3"></iconify-icon>Alex Santoso</a>
        </div>
        <div class="logout-button">
          <a href="src/login.html"><iconify-icon icon="material-symbols:logout" width="30" class="align-middle p-3"></iconify-icon>Logout</a>
        </div>
      </header>

    <div class="kotak-isi-profile">
        <div class="profile-picture">
            <img id="profile-image" src="/assets/default-profile-picture.jpg" alt="Profile Picture" />
            <input type="file" id="edit-foto" class="edit-input-file" style="display: none" />

            <div class="data-diri-profile">
                <div class="column">
                    <div class="data-item">
                        <label for="nama">Nama :</label>
                        <span id="nama">Alex Santoso</span>
                    </div>
                    <div class="data-item">
                        <label for="nisn">NISN :</label>
                        <span id="nisn">1234567890</span>
                    </div>
                    <div class="data-item">
                        <label for="kelas">Kelas :</label>
                        <span id="kelas">8G</span>
                    </div>
                    <div class="data-item">
                        <label for="tempat-lahir">Tempat Lahir :</label>
                        <span id="tempat-lahir">Bandar Lampung</span>
                    </div>

                </div>
                <div class="column">
                    <div class="data-item">
                        <label for="tanggal-lahir">Tanggal Lahir :</label>
                        <span id="tanggal-lahir">01-01-2005</span>
                    </div>
                    <div class="data-item">
                        <label for="jenis-kelamin">Jenis Kelamin :</label>
                        <span id="jenis-kelamin">Laki-laki</span>
                    </div>
                    <div class="data-item">
                        <label for="agama">Agama :</label>
                        <span id="agama">Islam</span>
                    </div>
                    <div class="data-item">
                        <label for="nama-ibu">Nama Ibu :</label>
                        <span id="nama-ibu">Mary Jane</span>
                    </div>
                </div>
            </div>

            <div class="data-alamat-profile">
                <div class="column">
                    <div class="data-item">
                        <label for="kewarganegaraan">Kewarganegaraan :</label>
                        <span id="kewarganegaraan">Indonesia</span>
                    </div>
                    <div class="data-item">
                        <label for="provinsi">Provinsi :</label>
                        <span id="provinsi">Lampung</span>
                    </div>
                    <div class="data-item">
                        <label for="kota">Kota :</label>
                        <span id="kota">Bandar Lampung</span>
                    </div>
                    <div class="data-item">
                        <label for="kecamatan">Kecamatan :</label>
                        <span id="kecamatan">Kecamatan ABC</span>
                    </div>
                    <div class="data-item">
                        <label for="jalan">Jalan :</label>
                        <span id="jalan">Jalan ABC No. 123</span>
                    </div>
                </div>
                <div class="column">
                    <div class="data-item">
                        <label for="dusun">Dusun :</label>
                        <span id="dusun">Dusun XYZ</span>
                    </div>
                    <div class="data-item">
                        <label for="rt">RT :</label>
                        <span id="rt">001</span>
                    </div>
                    <div class="data-item">
                        <label for="rw">RW :</label>
                        <span id="rw">002</span>
                    </div>
                    <div class="data-item">
                        <label for="kelurahan">Kelurahan :</label>
                        <span id="kelurahan">Kelurahan ABC</span>
                    </div>
                    <div class="data-item">
                        <label for="kode-pos">Kode Pos :</label>
                        <span id="kode-pos">12345</span>
                    </div>
                </div>
            </div>

            <div class="edit-profile-buttons">
                <button id="edit-button">Edit</button>
                <button id="save-button" style="display: none;">Simpan</button>
            </div>
        </div>

        <!-- script -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const editButton = document.getElementById("edit-button");
                const saveButton = document.getElementById("save-button");
                const fileInput = document.getElementById("edit-foto");
                const profileImage = document.getElementById("profile-image");
                const dataItems = document.querySelectorAll(".data-item span");

                editButton.addEventListener("click", function () {
                    // Tampilkan tombol unggah dan input file setelah mengklik "Edit"
                    fileInput.style.display = "block";

                    // Sembunyikan tombol "Edit"
                    editButton.style.display = "none";

                    // Tampilkan tombol "Simpan" setelah selesai mengedit
                    saveButton.style.display = "inline-block";

                    // Tampilkan input field yang dapat diedit
                    dataItems.forEach((item) => {
                        const input = document.createElement("input");
                        input.value = item.textContent;
                        item.textContent = "";
                        item.appendChild(input);
                    });
                });

                saveButton.addEventListener("click", function () {
                    // Simpan data yang diedit
                    dataItems.forEach((item) => {
                        const input = item.querySelector("input");
                        item.textContent = input.value;
                    });

                    // Sembunyikan tombol "Simpan" dan tampilkan tombol "Edit"
                    saveButton.style.display = "none";
                    editButton.style.display = "inline-block";

                    // Sembunyikan tombol unggah dan input file
                    fileInput.style.display = "none";

                    // Simpan gambar ke server Anda (implementasi server dibutuhkan)
                    const selectedFile = fileInput.files[0];
                    if (selectedFile) {
                        const formData = new FormData();
                        formData.append("profile_image", selectedFile);

                        // Kirim data ke server menggunakan metode seperti fetch atau XMLHttpRequest
                        // Misalnya:
                        // fetch("/upload-profile-image", {
                        //   method: "POST",
                        //   body: formData,
                        // }).then((response) => {
                        //   // Tambahkan penanganan respons di sini jika diperlukan
                        // });
                    }
                });

                fileInput.addEventListener("change", function () {
                    const selectedFile = fileInput.files[0];
                    if (selectedFile) {
                        const reader = new FileReader();

                        reader.onload = function (e) {
                            profileImage.src = e.target.result;
                        };

                        reader.readAsDataURL(selectedFile);
                    }
                });
            });
        </script>

</body>

</html>